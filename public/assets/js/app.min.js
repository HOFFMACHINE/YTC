!function(){"use strict";angular.module("app",["app.index"])}(),function(){"use strict";angular.module("app.index",[])}(),function(){"use strict";function t(t,n,e,r){function i(){var n={url:l.fragment.url};l.video.isPreviewing=!0,t.getVideoInfo(n).then(function(t){l.fragment.video_id=t.video_id,l.fragment.start=1,l.fragment.end=t.end,l.fragment.title=t.title,l.fragment.description=t.description})}function a(){var e={url:l.fragment.url,start:l.fragment.start,end:l.fragment.end};l.video.isPreviewing=!0,t.getVideoEmbedUrl(e).then(function(t){l.fragment.embed_url=n.trustAsResourceUrl(t)})}function o(){var n={id:l.fragment.id};t.downloadVideo(n).then(function(t){l.download_job_id=t})}function u(){var n={id:l.fragment.id};t.statusJob(n).then(function(t){l.status=t})}function d(){t.statusFragment().then(function(t){l.status_fragment=t,"downloaded"==l.status_fragment&&f()})}function f(){var n={user_id:"28"};t.uploadVideo(n).then(function(t){l.upload_job_id=t})}function s(){var n={url:l.fragment.url,start:l.fragment.start,end:l.fragment.end,title:l.fragment.title,description:l.fragment.description,video_id:l.fragment.video_id};t.createFragment(n).then(function(t){l.fragment=t,l.fragment.isCreated=!0,o(),l.status="new";var n=function(){u()};r(n,500);var e=function(){d()};r(e,500)})}function c(){t.getFragment().then(function(t){l.fragments=t})}function g(){f()}function m(){t.getUser().then(function(t){l.user=t})}var l=this;l.video=[],l.user=[],l.fragment=[],l.status_fragment=[],l.test=[],l.upload_job_id=[],l.download_job_id=[],l.status=[],l.getVideoInfo=i,l.getVideoEmbedUrl=a,l.downloadVideo=o,l.uploadVideo=f,l.statusJob=u,l.statusFragment=d,l.Tester=g,l.createFragment=s,m(),c()}angular.module("app.index").controller("IndexController",t),t.$inject=["api","$sce","$timeout","$interval"]}(),function(){"use strict";function t(t){function n(n){return t.post("/api/video/info",n).then(function(t){return t.data})}function e(n){return t.post("/api/status_job",n).then(function(t){return t.data})}function r(){return t.post("/api/fragments/status").then(function(t){return t.data})}function i(n){return t.post("/api/video/embed_url",n).then(function(t){return t.data})}function a(n){return t.post("/api/video/download",n).then(function(t){return t.data})}function o(n){return t.post("/api/fragments/uploaded_on_cloudinary",n).then(function(t){return t.data})}function u(){return t.get("/api/users/me").then(function(t){return t.data})}function d(n){return t.post("/api/fragments",n).then(function(t){return t.data})}function f(){return t.get("/api/fragments").then(function(t){return t.data})}return{getVideoInfo:n,getVideoEmbedUrl:i,downloadVideo:a,uploadVideo:o,statusJob:e,statusFragment:r,getUser:u,getFragment:f,createFragment:d}}angular.module("app.index").factory("api",t),t.$inject=["$http"]}(),function(){"use strict";function t(){function t(t,n,e){$(n).embed()}return{restrict:"A",link:t}}angular.module("app.index").directive("appEmbed",t)}();