!function(){"use strict";angular.module("app",["app.index"])}(),function(){"use strict";angular.module("app.index",[])}(),function(){"use strict";function t(t,n,e,a){function r(){var n={url:p.fragment.url};p.video.isPreviewing=!0,t.getVideoInfo(n).then(function(t){p.fragment.video_id=t.video_id,p.fragment.start=1,p.fragment.end=t.end,p.fragment.title=t.title,p.fragment.description=t.description})}function i(){var e={url:p.fragment.url,start:p.fragment.start,end:p.fragment.end};p.video.isPreviewing=!0,t.getVideoEmbedUrl(e).then(function(t){p.fragment.embed_url=n.trustAsResourceUrl(t)})}function o(){var n={id:p.fragment.id};t.statusJob(n).then(function(t){p.status=t})}function u(){t.statusFragment().then(function(t){p.status_fragment=t})}function d(){var n={id:p.fragment.id};t.downloadVideo(n).then(function(t){p.download_job_id=t})}function s(){t.uploadVideo().then(function(t){p.upload_job_id=t})}function f(){var n={url:p.fragment.url,start:p.fragment.start,end:p.fragment.end,title:p.fragment.title,description:p.fragment.description,video_id:p.fragment.video_id};t.createFragment(n).then(function(t){p.fragment=t,p.fragment.isCreated=!0,d(),p.status="new";var n=function(){o()};"complete"===p.status&&a.cancel(p.interval_status_job),p.interval_status_job=a(n,100);var e=function(){u()};"downloaded"===p.status_fragment&&(s(),a.cancel(p.interval_status_fragment),p.fragment.isCreated=!1),p.interval_status_fragment=a(e,100)})}function c(){t.getFragment().then(function(t){p.fragments=t})}function l(){var n={video_id:p.fragment.video_id};t.CloudChecker(n).then(function(t){p.cloud_video_params=t})}function g(){var t=function(){u()};"downloaded"===p.status_fragment&&(s(),a.cancel(p.interval_status_fragment)),p.interval_status_fragment=a(t,500)}function m(){t.getUser().then(function(t){p.user=t})}var p=this;p.video=[],p.user=[],p.fragment=[],p.status_fragment=[],p.interval_status_job=[],p.interval_status_fragment=[],p.interval_cloud_video=[],p.cloud_video_params=[],p.test=[],p.number=1,p.upload_job_id=[],p.download_job_id=[],p.status=[],p.getVideoInfo=r,p.getVideoEmbedUrl=i,p.downloadVideo=d,p.uploadVideo=s,p.statusJob=o,p.statusFragment=u,p.CloudChecker=l,p.Tester=g,p.createFragment=f,m(),c()}angular.module("app.index").controller("IndexController",t),t.$inject=["api","$sce","$timeout","$interval"]}(),function(){"use strict";function t(t){function n(n){return t.post("/api/video/info",n).then(function(t){return t.data})}function e(n){return t.post("/api/status_job",n).then(function(t){return t.data})}function a(){return t.post("/api/fragments/status").then(function(t){return t.data})}function r(n){return t.post("/api/fragments/cloud_checker",n).then(function(t){return t.data})}function i(n){return t.post("/api/video/embed_url",n).then(function(t){return t.data})}function o(n){return t.post("/api/video/download",n).then(function(t){return t.data})}function u(){return t.post("/api/fragments/uploaded_on_cloudinary").then(function(t){return t.data})}function d(){return t.get("/api/users/me").then(function(t){return t.data})}function s(n){return t.post("/api/fragments",n).then(function(t){return t.data})}function f(){return t.get("/api/fragments").then(function(t){return t.data})}return{getVideoInfo:n,getVideoEmbedUrl:i,downloadVideo:o,uploadVideo:u,statusJob:e,statusFragment:a,CloudChecker:r,getUser:d,getFragment:f,createFragment:s}}angular.module("app.index").factory("api",t),t.$inject=["$http"]}(),function(){"use strict";function t(){function t(t,n,e){$(n).embed()}return{restrict:"A",link:t}}angular.module("app.index").directive("appEmbed",t)}();