!function(){"use strict";angular.module("app",["app.index"])}(),function(){"use strict";angular.module("app.index",["ng-token-auth","720kb.socialshare","ui-rangeSlider"])}(),function(){"use strict";function t(t,e,n,r){function i(){location.reload()}function a(){t.authenticate("google")}function o(){t.signOut()}function u(){var t={user_id:_.user.id};r.UserProfile(t).then(function(t){_.user_profile=t,_.counter=_.user_profile.profile.length})}function d(){var t={url:_.video.url};r.createVideo(t).then(function(t){_.video=t,_.video.isPreviewing=!0,_.fragment.start_from=0,_.fragment.end_from=_.video.duration,_.fragment.title=_.video.title,_.fragment.description=_.video.description,c()})}function f(){var t={id:_.video.id};r.downloadVideo(t).then(function(t){_.video.status=t.status});var e=n(function(){"downloaded"!=_.video.status&&"uploaded"!=_.video.status||("downloaded"==_.video.status&&s(),"uploaded"==_.video.status&&p(),n.cancel(e)),l()},5e3)}function s(){var t={id:_.video.id};r.uploadVideo(t).then(function(t){_.video.status=t.status});var e=n(function(){"uploaded"==_.video.status&&(p(),n.cancel(e)),l()},5e3)}function c(){var t={id:_.video.id,start_from:_.fragment.start_from,end_from:_.fragment.end_from};r.getVideoEmbedUrl(t).then(function(t){_.video.embed_url=e.trustAsResourceUrl(t.embed_url)})}function l(){var t={id:_.video.id};r.getVideoStatus(t).then(function(t){_.video.status=t.status})}function g(t){r.deleteFragment(t).then(function(){})}function m(){var t={user_id:_.user.id,video_id:_.video.id,start_from:_.fragment.start_from,end_from:_.fragment.end_from,title:_.fragment.title,description:_.fragment.description};r.createFragment(t).then(function(t){_.fragment=t,_.fragment.isCreating=!0,f()})}function p(){var t={id:_.fragment.id};r.uploadFragment(t).then(function(){});var e=n(function(){"uploaded"==_.fragment.status&&(h(),_.fragment.isCreating=!1,_.fragment.isCreated=!0,n.cancel(e)),v()},5e3)}function v(){var t={id:_.fragment.id};r.getFragmentStatus(t).then(function(t){_.fragment.status=t.status})}function h(){var t={id:_.fragment.id};r.getFragmentUrl(t).then(function(t){_.fragment.url=t.url})}var _=this;_.video=[],_.user=t.user,_.fragment=[],_.embed_uri="https://www.youtube.com/embed/",_.user_profile=[],_.all_fragments=[],_.reloadPage=i,_.login=a,_.logout=o,_.UserProfile=u,_.createVideo=d,_.downloadVideo=f,_.uploadVideo=s,_.getVideoEmbedUrl=c,_.getVideoStatus=l,_.createFragment=m,_.deleteFragment=g,_.uploadFragment=p,_.getFragmentStatus=v,_.getFragmentUrl=h}angular.module("app.index").controller("IndexController",t),t.$inject=["$auth","$sce","$interval","api"]}(),function(){"use strict";function t(t){t.configure({apiUrl:"/api"})}angular.module("app").config(t),t.$inject=["$authProvider"]}(),function(){"use strict";function t(t){function e(e){return t.post("/api/user/profile",e).then(function(t){return t.data})}function n(e){return t.post("/api/videos",e).then(function(t){return t.data})}function r(e){return t.get("/api/videos/"+e.id+"/download").then(function(t){return t.data})}function i(e){return t.get("/api/videos/"+e.id+"/upload").then(function(t){return t.data})}function a(e){return t.post("/api/videos/"+e.id+"/embed_url",e).then(function(t){return t.data})}function o(e){return t.get("/api/videos/"+e.id+"/status").then(function(t){return t.data})}function u(e){return t.post("/api/fragments",e).then(function(t){return t.data})}function d(e){return t["delete"]("/api/fragments/delete/"+e).then(function(t){return t.data})}function f(e){return t.get("/api/fragments/"+e.id+"/upload").then(function(t){return t.data})}function s(e){return t.get("/api/fragments/"+e.id+"/url").then(function(t){return t.data})}function c(e){return t.get("/api/fragments/"+e.id+"/status").then(function(t){return t.data})}return{UserProfile:e,createVideo:n,downloadVideo:r,uploadVideo:i,getVideoEmbedUrl:a,getVideoStatus:o,createFragment:u,deleteFragment:d,uploadFragment:f,getFragmentUrl:s,getFragmentStatus:c}}angular.module("app.index").factory("api",t),t.$inject=["$http"]}();