!function(){"use strict";angular.module("app",["app.index"])}(),function(){"use strict";angular.module("app.index",["ng-token-auth","720kb.socialshare","ngclipboard","ui-rangeSlider"])}(),function(){"use strict";function t(t,e,n,r){function i(){t.authenticate("google")}function a(){t.signOut()}function o(){var t={id:V.user.id};r.getUserFragments(t).then(function(t){V.user.fragments=t})}function d(){var t={url:V.video.url};r.createVideo(t).then(function(t){V.video=t,V.video.isCreated=!0,V.fragment.start_from=0,V.fragment.end_from=V.video.duration,V.fragment.title=V.video.title,V.fragment.description=V.video.description,c()})}function u(){var t={id:V.video.id};r.downloadVideo(t).then(function(t){V.video.job_id=t.job_id;var e=n(function(){"error"==V.video.status&&(s(),l(),n.cancel(e)),"downloaded"==V.video.status&&(f(),n.cancel(e)),"uploaded"==V.video.status&&(v(),n.cancel(e)),g()},5e3)})}function f(){var t={id:V.video.id};r.uploadVideo(t).then(function(t){V.video.job_id=t.job_id;var e=n(function(){"error"==V.video.status&&(s(),l(),n.cancel(e)),"uploaded"==V.video.status&&(v(),n.cancel(e)),g()},5e3)})}function c(){var t={id:V.video.id,start_from:V.fragment.start_from,end_from:V.fragment.end_from};r.getVideoEmbedUrl(t).then(function(t){V.video.embed_url=e.trustAsResourceUrl(t.embed_url)})}function g(){var t={id:V.video.id,job_id:V.video.job_id};r.getVideoStatus(t).then(function(t){V.video.status=t.status})}function s(){var t={id:V.video.id};r.getVideoError(t).then(function(t){V.error=t.error})}function m(t){var e={id:t.id};r.deleteFragment(e).then(function(){o()})}function l(){V.error="",V.video=[],V.fragment=[]}function p(){var t={user_id:V.user.id,video_id:V.video.id,start_from:V.fragment.start_from,end_from:V.fragment.end_from,title:V.fragment.title,description:V.fragment.description};r.createFragment(t).then(function(t){V.fragment=t,V.fragment.isCreating=!0,u()})}function v(){var t={id:V.fragment.id};r.uploadFragment(t).then(function(t){V.fragment.job_id=t.job_id;var e=n(function(){"error"==V.fragment.status&&(_(),l(),n.cancel(e)),"uploaded"==V.fragment.status&&(b(),V.video.isCreated=!1,V.fragment.isCreating=!1,V.fragment.isCreated=!0,n.cancel(e)),h()},5e3)})}function h(){var t={id:V.fragment.id,job_id:V.fragment.job_id};r.getFragmentStatus(t).then(function(t){V.fragment.status=t.status})}function _(){var t={id:V.fragment.id};r.getFragmentError(t).then(function(t){V.error=t.error})}function b(){var t={id:V.fragment.id};r.getFragmentUrl(t).then(function(t){V.fragment.url=t.url,F()})}function F(){var t={id:V.fragment.id};r.getFragmentEmbedUrl(t).then(function(t){V.fragment.embed_url=e.trustAsResourceUrl(t.embed_url)})}var V=this;V.error="",V.user=t.user,V.video=[],V.fragment=[],V.results=[],V.login=i,V.logout=a,V.getUserFragments=o,V.createVideo=d,V.downloadVideo=u,V.uploadVideo=f,V.getVideoStatus=g,V.getVideoError=s,V.getVideoEmbedUrl=c,V.newFragment=l,V.createFragment=p,V.deleteFragment=m,V.uploadFragment=v,V.getFragmentStatus=h,V.getFragmentError=_,V.getFragmentUrl=b,V.getFragmentEmbedUrl=F}angular.module("app.index").controller("IndexController",t),t.$inject=["$auth","$sce","$interval","api"]}(),function(){"use strict";function t(t){t.configure({apiUrl:"/api"})}angular.module("app").config(t),t.$inject=["$authProvider"]}(),function(){"use strict";function t(t){function e(e){return t.get("/api/users/"+e.id+"/fragments").then(function(t){return t.data})}function n(e){return t.post("/api/videos",e).then(function(t){return t.data})}function r(e){return t.get("/api/videos/"+e.id+"/download").then(function(t){return t.data})}function i(e){return t.get("/api/videos/"+e.id+"/upload").then(function(t){return t.data})}function a(e){return t.post("/api/videos/"+e.id+"/embed_url",e).then(function(t){return t.data})}function o(e){return t.post("/api/videos/"+e.id+"/status",e).then(function(t){return t.data})}function d(e){return t.get("/api/videos/"+e.id+"/error").then(function(t){return t.data})}function u(e){return t.post("/api/fragments",e).then(function(t){return t.data})}function f(e){return t["delete"]("/api/fragments/"+e.id).then(function(t){return t.data})}function c(e){return t.get("/api/fragments/"+e.id+"/upload").then(function(t){return t.data})}function g(e){return t.get("/api/fragments/"+e.id+"/url").then(function(t){return t.data})}function s(e){return t.get("/api/fragments/"+e.id+"/embed_url").then(function(t){return t.data})}function m(e){return t.post("/api/fragments/"+e.id+"/status",e).then(function(t){return t.data})}function l(e){return t.get("/api/fragments/"+e.id+"/error").then(function(t){return t.data})}return{getUserFragments:e,createVideo:n,downloadVideo:r,uploadVideo:i,getVideoEmbedUrl:a,getVideoStatus:o,getVideoError:d,createFragment:u,deleteFragment:f,uploadFragment:c,getFragmentUrl:g,getFragmentEmbedUrl:s,getFragmentStatus:m,getFragmentError:l}}angular.module("app.index").factory("api",t),t.$inject=["$http"]}(),function(){"use strict";function t(){function t(t,e,n){$(e).tab()}return{restrict:"A",link:t}}angular.module("app.index").directive("appTab",t)}();