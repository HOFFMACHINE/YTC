!function(){"use strict";angular.module("app",["app.index"])}(),function(){"use strict";angular.module("app.index",["ng-token-auth"])}(),function(){"use strict";function t(t,n,e,a){function r(){t.authenticate("google").then(function(t){})}function o(){t.signOut().then(function(t){})}function i(){var t={url:h.fragment.url};h.video.isPreviewing=!0,a.getVideoInfo(t).then(function(t){h.fragment.video_id=t.video_id,h.fragment.start=1,h.fragment.end=t.end,h.fragment.title=t.title,h.fragment.description=t.description})}function u(){var t={id:h.fragment.id};a.getNewUrl(t).then(function(t){h.new_url=t})}function d(){var t={url:h.fragment.url,start:h.fragment.start,end:h.fragment.end};h.video.isPreviewing=!0,a.getVideoEmbedUrl(t).then(function(t){h.fragment.embed_url=n.trustAsResourceUrl(t)})}function s(){var t={id:h.fragment.id};a.statusJob(t).then(function(t){h.status=t})}function c(){var t={user_id:h.user.id};a.statusFragment(t).then(function(t){h.status_fragment=t})}function f(){var t={id:h.upload_yt_job_id};a.globalStatusFragment(t).then(function(t){h.global_status=t})}function l(){var t={user_id:h.user.id};a.downloadVideo(t).then(function(t){h.download_job_id=t})}function g(){var t={user_id:h.user.id};a.uploadVideo(t).then(function(t){h.upload_job_id=t})}function _(){var t={user_id:h.user.id};a.deleteVideoFile(t).then(function(t){})}function m(){var t={user_id:h.user.id};a.uploadVideoOnYouTube(t).then(function(t){h.upload_yt_job_id=t})}function p(){var t={user_id:h.user.id,url:h.fragment.url,start:h.fragment.start,end:h.fragment.end,title:h.fragment.title,description:h.fragment.description,video_id:h.fragment.video_id};a.createFragment(t).then(function(t){h.fragment=t,h.fragment.isCreated=!0,h.cloud_id=h.fragment.video_id,l(),h.status="new";var n=e(function(){s(),"complete"===h.status&&e.cancel(n)},500),a=e(function(){c(),"downloaded"===h.status_fragment&&(g(),e.cancel(a)),"video_on_cloud"===h.status_fragment&&(e.cancel(a),h.fragment.cloudCreated=!0)},500),r=e(function(){v(),h.cloud_video_params.public_id===h.fragment.video_id&&(_(),m(),e.cancel(r),h.fragment.cloudCreated=!0)},2500),o=e(function(){f(),"complete"===h.global_status&&(u(),h.fragment.ytCreated=!0,h.fragment.isCreated=!1,e.cancel(o)),"failed"===h.global_status&&(alert("failed error"),h.fragment.ytCreated=!0,h.fragment.isCreated=!1,e.cancel(o))},2500)})}function v(){var t={user_id:h.user.id};a.resources(t).then(function(t){h.cloud_video_params=t})}var h=this;h.video=[],h.user=t.user,h.fragment=[],h.status_fragment=[],h.global_status=[],h.test=h.user.id,h.cloud_id=[],h.interval_status_job=[],h.interval_status_fragment=[],h.interval_cloud_video=[],h.cloud_video_params=[],h.cloud_video=[],h.upload_job_id=[],h.download_job_id=[],h.upload_yt_job_id=[],h.status=[],h.new_url=[],h.login=r,h.logout=o,h.getVideoInfo=i,h.getVideoEmbedUrl=d,h.downloadVideo=l,h.uploadVideo=g,h.deleteVideoFile=_,h.uploadVideoOnYouTube=m,h.statusJob=s,h.statusFragment=c,h.globalStatusFragment=f,h.resources=v,h.getNewUrl=u,h.createFragment=p}angular.module("app.index").controller("IndexController",t),t.$inject=["$auth","$sce","$interval","api"]}(),function(){"use strict";function t(t){t.configure({apiUrl:"/api"})}angular.module("app").config(t),t.$inject=["$authProvider"]}(),function(){"use strict";function t(t){function n(n){return t.post("/api/video/info",n).then(function(t){return t.data})}function e(n){return t.post("/api/status_job",n).then(function(t){return t.data})}function a(n){return t.post("/api/fragments/status",n).then(function(t){return t.data})}function r(n){return t.post("/api/fragments/global/status",n).then(function(t){return t.data})}function o(n){return t.post("/api/fragments/resources",n).then(function(t){return t.data})}function i(n){return t.post("/api/video/embed_url",n).then(function(t){return t.data})}function u(n){return t.post("/api/video/download",n).then(function(t){return t.data})}function d(n){return t.post("/api/fragments/uploaded_on_cloudinary",n).then(function(t){return t.data})}function s(n){return t.post("/api/fragments/delete_video_file",n).then(function(t){return t.data})}function c(n){return t.post("/api/fragments/uploaded_video_on_youtube",n).then(function(t){return t.data})}function f(n){return t.post("/api/fragments",n).then(function(t){return t.data})}function l(){return t.get("/api/fragments").then(function(t){return t.data})}function g(n){return t.post("/api/new_url",n).then(function(t){return t.data})}return{getVideoInfo:n,getVideoEmbedUrl:i,downloadVideo:u,uploadVideo:d,deleteVideoFile:s,uploadVideoOnYouTube:c,statusJob:e,statusFragment:a,globalStatusFragment:r,resources:o,getNewUrl:g,getFragment:l,createFragment:f}}angular.module("app.index").factory("api",t),t.$inject=["$http"]}();