!function(){"use strict";angular.module("app",["app.index"])}(),function(){"use strict";angular.module("app.index",["ng-token-auth"])}(),function(){"use strict";function t(t,n,e,o){function r(){t.authenticate("google").then(function(t){})}function i(){t.signOut().then(function(t){})}function u(){var t={url:h.fragment.url};h.video.isPreviewing=!0,o.getVideoInfo(t).then(function(t){h.fragment.video_id=t.video_id,h.fragment.start=1,h.fragment.end=t.end,h.fragment.title=t.title,h.fragment.description=t.description})}function a(){var t={user_id:user.id};o.getNewUrl(t).then(function(t){h.new_url=t})}function d(){var t={url:h.fragment.url,start:h.fragment.start,end:h.fragment.end};h.video.isPreviewing=!0,o.getVideoEmbedUrl(t).then(function(t){h.fragment.embed_url=n.trustAsResourceUrl(t)})}function s(){var t={id:h.fragment.id};o.statusJob(t).then(function(t){h.status=t})}function c(){var t={user_id:h.user.id};o.statusFragment(t).then(function(t){h.status_fragment=t})}function f(){var t={id:h.upload_yt_job_id};o.globalStatusFragment(t).then(function(t){h.global_status=t})}function l(){var t={user_id:h.user.id};o.downloadVideo(t).then(function(t){h.download_job_id=t})}function g(){var t={user_id:h.user.id};o.uploadVideo(t).then(function(t){h.upload_job_id=t})}function _(){var t={user_id:h.user.id};o.deleteVideoFile(t).then(function(t){})}function p(){var t={user_id:h.user.id};o.uploadVideoOnYouTube(t).then(function(t){h.upload_yt_job_id=t})}function m(){var t={user_id:h.user.id,url:h.fragment.url,start:h.fragment.start,end:h.fragment.end,title:h.fragment.title,description:h.fragment.description,video_id:h.fragment.video_id};o.createFragment(t).then(function(t){h.fragment=t,h.fragment.isCreated=!0,h.cloud_id=h.fragment.video_id,l(),h.status="new";var n=e(function(){s(),"complete"===h.status&&e.cancel(n)},500),o=e(function(){c(),"downloaded"===h.status_fragment&&(g(),e.cancel(o)),"video_on_cloud"===h.status_fragment&&(e.cancel(o),h.fragment.cloudCreated=!0)},500),r=e(function(){v(),h.cloud_video_params.public_id===h.fragment.video_id&&(_(),p(),e.cancel(r),h.fragment.cloudCreated=!0)},2500),i=e(function(){f(),"complete"===h.global_status&&(h.fragment.ytCreated=!0,a(),h.fragment.isCreated=!1,e.cancel(i))},2500)})}function v(){var t={user_id:h.user.id};o.resources(t).then(function(t){h.cloud_video_params=t})}var h=this;h.video=[],h.user=t.user,h.fragment=[],h.status_fragment=[],h.global_status=[],h.test=h.user.id,h.login=r,h.logout=i,h.cloud_id=[],h.interval_status_job=[],h.interval_status_fragment=[],h.interval_cloud_video=[],h.cloud_video_params=[],h.cloud_video=[],h.upload_job_id=[],h.download_job_id=[],h.upload_yt_job_id=[],h.status=[],h.new_url=[],h.getVideoInfo=u,h.getVideoEmbedUrl=d,h.downloadVideo=l,h.uploadVideo=g,h.deleteVideoFile=_,h.uploadVideoOnYouTube=p,h.statusJob=s,h.statusFragment=c,h.globalStatusFragment=f,h.resources=v,h.getNewUrl=a,h.createFragment=m}angular.module("app.index").controller("IndexController",t),t.$inject=["$auth","$sce","$interval","api"]}(),function(){"use strict";function t(t){t.configure({apiUrl:"/api"})}angular.module("app").config(t),t.$inject=["$authProvider"]}(),function(){"use strict";function t(t){function n(n){return t.post("/api/video/info",n).then(function(t){return t.data})}function e(n){return t.post("/api/status_job",n).then(function(t){return t.data})}function o(n){return t.post("/api/fragments/status",n).then(function(t){return t.data})}function r(n){return t.post("/api/fragments/global/status",n).then(function(t){return t.data})}function i(n){return t.post("/api/fragments/resources",n).then(function(t){return t.data})}function u(n){return t.post("/api/video/embed_url",n).then(function(t){return t.data})}function a(n){return t.post("/api/video/download",n).then(function(t){return t.data})}function d(n){return t.post("/api/fragments/uploaded_on_cloudinary",n).then(function(t){return t.data})}function s(n){return t.post("/api/fragments/delete_video_file",n).then(function(t){return t.data})}function c(n){return t.post("/api/fragments/uploaded_video_on_youtube",n).then(function(t){return t.data})}function f(n){return t.post("/api/fragments",n).then(function(t){return t.data})}function l(){return t.get("/api/fragments").then(function(t){return t.data})}function g(n){return t.get("/api/new_url",n).then(function(t){return t.data})}return{getVideoInfo:n,getVideoEmbedUrl:u,downloadVideo:a,uploadVideo:d,deleteVideoFile:s,uploadVideoOnYouTube:c,statusJob:e,statusFragment:o,globalStatusFragment:r,resources:i,getNewUrl:g,getFragment:l,createFragment:f}}angular.module("app.index").factory("api",t),t.$inject=["$http"]}(),function(){"use strict";function t(){function t(t,n,e){$(n).embed()}return{restrict:"A",link:t}}angular.module("app.index").directive("appEmbed",t)}();