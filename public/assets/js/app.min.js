!function(){"use strict";angular.module("app",["app.index"])}(),function(){"use strict";angular.module("app.index",["ng-token-auth","720kb.socialshare","ui-rangeSlider"])}(),function(){"use strict";function t(t,e,n,i){function r(){t.authenticate("google")}function a(){t.signOut()}function o(){var t={id:F.user.id};i.getUserFragments(t).then(function(t){F.user.fragments=t})}function u(){var t={url:F.video.url};i.createVideo(t).then(function(t){F.video=t,F.video.isPreviewing=!0,F.fragment.start_from=0,F.fragment.end_from=F.video.duration,F.fragment.title=F.video.title,F.fragment.description=F.video.description,s()})}function d(){var t={id:F.video.id};i.downloadVideo(t).then(function(t){F.video.status=t.status});var e=n(function(){"downloaded"!=F.video.status&&"uploaded"!=F.video.status||("downloaded"==F.video.status&&f(),"uploaded"==F.video.status&&m(),n.cancel(e)),c()},5e3)}function f(){var t={id:F.video.id};i.uploadVideo(t).then(function(t){F.video.status=t.status});var e=n(function(){"uploaded"==F.video.status&&(m(),n.cancel(e)),c()},5e3)}function s(){var t={id:F.video.id,start_from:F.fragment.start_from,end_from:F.fragment.end_from};i.getVideoEmbedUrl(t).then(function(t){F.video.embed_url=e.trustAsResourceUrl(t.embed_url)})}function c(){var t={id:F.video.id};i.getVideoStatus(t).then(function(t){F.video.status=t.status})}function g(t){var e={id:t.id};i.deleteFragment(e).then(function(){o()})}function l(){var t={user_id:F.user.id,video_id:F.video.id,start_from:F.fragment.start_from,end_from:F.fragment.end_from,title:F.fragment.title,description:F.fragment.description};i.createFragment(t).then(function(t){F.fragment=t,F.fragment.isCreating=!0,d()})}function m(){var t={id:F.fragment.id};i.uploadFragment(t).then(function(){});var e=n(function(){"uploaded"==F.fragment.status&&(v(),F.fragment.isCreating=!1,F.fragment.isCreated=!0,n.cancel(e)),p()},5e3)}function p(){var t={id:F.fragment.id};i.getFragmentStatus(t).then(function(t){F.fragment.status=t.status})}function v(){var t={id:F.fragment.id};i.getFragmentUrl(t).then(function(t){F.fragment.url=t.url})}function h(){location.reload()}var F=this;F.user=t.user,F.video=[],F.fragment=[],F.login=r,F.logout=a,F.getUserFragments=o,F.createVideo=u,F.downloadVideo=d,F.uploadVideo=f,F.getVideoEmbedUrl=s,F.getVideoStatus=c,F.createFragment=l,F.deleteFragment=g,F.uploadFragment=m,F.getFragmentStatus=p,F.getFragmentUrl=v,F.reloadPage=h}angular.module("app.index").controller("IndexController",t),t.$inject=["$auth","$sce","$interval","api"]}(),function(){"use strict";function t(t){t.configure({apiUrl:"/api"})}angular.module("app").config(t),t.$inject=["$authProvider"]}(),function(){"use strict";function t(t){function e(e){return t.get("/api/users/"+e.id+"/fragments").then(function(t){return t.data})}function n(e){return t.post("/api/videos",e).then(function(t){return t.data})}function i(e){return t.get("/api/videos/"+e.id+"/download").then(function(t){return t.data})}function r(e){return t.get("/api/videos/"+e.id+"/upload").then(function(t){return t.data})}function a(e){return t.post("/api/videos/"+e.id+"/embed_url",e).then(function(t){return t.data})}function o(e){return t.get("/api/videos/"+e.id+"/status").then(function(t){return t.data})}function u(e){return t.post("/api/fragments",e).then(function(t){return t.data})}function d(e){return t["delete"]("/api/fragments/"+e.id).then(function(t){return t.data})}function f(e){return t.get("/api/fragments/"+e.id+"/upload").then(function(t){return t.data})}function s(e){return t.get("/api/fragments/"+e.id+"/url").then(function(t){return t.data})}function c(e){return t.get("/api/fragments/"+e.id+"/status").then(function(t){return t.data})}return{getUserFragments:e,createVideo:n,downloadVideo:i,uploadVideo:r,getVideoEmbedUrl:a,getVideoStatus:o,createFragment:u,deleteFragment:d,uploadFragment:f,getFragmentUrl:s,getFragmentStatus:c}}angular.module("app.index").factory("api",t),t.$inject=["$http"]}();