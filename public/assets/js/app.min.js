!function(){"use strict";angular.module("app",["app.index"])}(),function(){"use strict";angular.module("app.index",["ng-token-auth","720kb.socialshare","ngclipboard","ui-rangeSlider"])}(),function(){"use strict";function t(t,e,n,r){function i(){t.authenticate("google")}function a(){t.signOut()}function o(){var t={id:_.user.id};r.getUserFragments(t).then(function(t){_.user.fragments=t})}function u(){var t={url:_.video.url};r.createVideo(t).then(function(t){_.video=t,_.video.isCreated=!0,_.fragment.start_from=0,_.fragment.end_from=_.video.duration,_.fragment.title=_.video.title,_.fragment.description=_.video.description,s()})}function d(){var t={id:_.video.id};r.downloadVideo(t).then(function(t){_.video.status=t.status;var e=n(function(){"downloaded"!=_.video.status&&"uploaded"!=_.video.status||("downloaded"==_.video.status&&f(),"uploaded"==_.video.status&&p(),n.cancel(e)),c()},5e3)})}function f(){var t={id:_.video.id};r.uploadVideo(t).then(function(t){_.video.status=t.status;var e=n(function(){"uploaded"==_.video.status&&(p(),n.cancel(e)),c()},5e3)})}function s(){var t={id:_.video.id,start_from:_.fragment.start_from,end_from:_.fragment.end_from};r.getVideoEmbedUrl(t).then(function(t){_.video.embed_url=e.trustAsResourceUrl(t.embed_url)})}function c(){var t={id:_.video.id};r.getVideoStatus(t).then(function(t){_.video.status=t.status})}function g(t){var e={id:t.id};r.deleteFragment(e).then(function(){o()})}function m(){_.video=[],_.fragment=[]}function l(){var t={user_id:_.user.id,video_id:_.video.id,start_from:_.fragment.start_from,end_from:_.fragment.end_from,title:_.fragment.title,description:_.fragment.description};r.createFragment(t).then(function(t){_.fragment=t,_.fragment.isCreating=!0,d()})}function p(){var t={id:_.fragment.id};r.uploadFragment(t).then(function(){var t=n(function(){"uploaded"==_.fragment.status&&(h(),_.video.isCreated=!1,_.fragment.isCreating=!1,_.fragment.isCreated=!0,n.cancel(t)),v()},5e3)})}function v(){var t={id:_.fragment.id};r.getFragmentStatus(t).then(function(t){_.fragment.status=t.status})}function h(){var t={id:_.fragment.id};r.getFragmentUrl(t).then(function(t){_.fragment.url=t.url,F()})}function F(){var t={id:_.fragment.id};r.getFragmentEmbedUrl(t).then(function(t){_.fragment.embed_url=e.trustAsResourceUrl(t.embed_url)})}var _=this;_.user=t.user,_.video=[],_.fragment=[],_.results=[],_.login=i,_.logout=a,_.getUserFragments=o,_.createVideo=u,_.downloadVideo=d,_.uploadVideo=f,_.getVideoStatus=c,_.getVideoEmbedUrl=s,_.newFragment=m,_.createFragment=l,_.deleteFragment=g,_.uploadFragment=p,_.getFragmentStatus=v,_.getFragmentUrl=h,_.getFragmentEmbedUrl=F}angular.module("app.index").controller("IndexController",t),t.$inject=["$auth","$sce","$interval","api"]}(),function(){"use strict";function t(t){t.configure({apiUrl:"/api"})}angular.module("app").config(t),t.$inject=["$authProvider"]}(),function(){"use strict";function t(t){function e(e){return t.get("/api/users/"+e.id+"/fragments").then(function(t){return t.data})}function n(e){return t.post("/api/videos",e).then(function(t){return t.data})}function r(e){return t.get("/api/videos/"+e.id+"/download").then(function(t){return t.data})}function i(e){return t.get("/api/videos/"+e.id+"/upload").then(function(t){return t.data})}function a(e){return t.post("/api/videos/"+e.id+"/embed_url",e).then(function(t){return t.data})}function o(e){return t.get("/api/videos/"+e.id+"/status").then(function(t){return t.data})}function u(e){return t.post("/api/fragments",e).then(function(t){return t.data})}function d(e){return t["delete"]("/api/fragments/"+e.id).then(function(t){return t.data})}function f(e){return t.get("/api/fragments/"+e.id+"/upload").then(function(t){return t.data})}function s(e){return t.get("/api/fragments/"+e.id+"/url").then(function(t){return t.data})}function c(e){return t.get("/api/fragments/"+e.id+"/embed_url").then(function(t){return t.data})}function g(e){return t.get("/api/fragments/"+e.id+"/status").then(function(t){return t.data})}return{getUserFragments:e,createVideo:n,downloadVideo:r,uploadVideo:i,getVideoEmbedUrl:a,getVideoStatus:o,createFragment:u,deleteFragment:d,uploadFragment:f,getFragmentUrl:s,getFragmentEmbedUrl:c,getFragmentStatus:g}}angular.module("app.index").factory("api",t),t.$inject=["$http"]}(),function(){"use strict";function t(){function t(t,e,n){$(e).tab()}return{restrict:"A",link:t}}angular.module("app.index").directive("appTab",t)}();