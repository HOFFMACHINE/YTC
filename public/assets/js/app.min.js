!function(){"use strict";angular.module("app",["app.index"])}(),function(){"use strict";angular.module("app.index",["ng-token-auth"])}(),function(){"use strict";function t(t,e,n,r){function a(){t.authenticate("google").then(function(t){})}function i(){t.signOut().then(function(t){})}function o(){var t={url:h.fragment.url};h.video.isPreviewing=!0,r.getVideoInfo(t).then(function(t){h.fragment.video_id=t.video_id,h.fragment.start=1,h.fragment.end=t.end,h.fragment.title=t.title,h.fragment.description=t.description})}function u(){var t={user_id:user.id};r.getNewUrl(t).then(function(t){h.new_url=t})}function d(){var t={url:h.fragment.url,start:h.fragment.start,end:h.fragment.end};h.video.isPreviewing=!0,r.getVideoEmbedUrl(t).then(function(t){h.fragment.embed_url=e.trustAsResourceUrl(t)})}function s(){var t={id:h.fragment.id};r.statusJob(t).then(function(t){h.status=t})}function c(){var t={user_id:h.user.id};r.statusFragment(t).then(function(t){h.status_fragment=t})}function f(){var t={id:h.upload_yt_job_id};r.globalStatusFragment(t).then(function(t){h.global_status=t})}function l(){var t={user_id:h.user.id};r.downloadVideo(t).then(function(t){h.download_job_id=t})}function g(){var t={user_id:h.user.id};r.uploadVideo(t).then(function(t){h.upload_job_id=t})}function _(){var t={user_id:h.user.id};r.deleteVideoFile(t).then(function(t){})}function m(){var t={user_id:h.user.id};r.uploadVideoOnYouTube(t).then(function(t){h.upload_yt_job_id=t})}function p(){var t={user_id:h.user.id,url:h.fragment.url,start:h.fragment.start,end:h.fragment.end,title:h.fragment.title,description:h.fragment.description,video_id:h.fragment.video_id};r.createFragment(t).then(function(t){h.fragment=t,h.fragment.isCreated=!0,h.cloud_id=h.fragment.video_id,l(),h.status="new";var e=n(function(){s(),"complete"===h.status&&n.cancel(e)},500),r=n(function(){c(),"downloaded"===h.status_fragment&&(g(),n.cancel(r)),"video_on_cloud"===h.status_fragment&&(n.cancel(r),h.fragment.cloudCreated=!0)},500),a=n(function(){v(),h.cloud_video_params.public_id===h.fragment.video_id&&(_(),m(),n.cancel(a),h.fragment.cloudCreated=!0)},2500),i=n(function(){f(),"complete"===h.global_status&&(h.fragment.ytCreated=!0,u(),h.fragment.isCreated=!1,n.cancel(i)),"failed"===h.global_status&&(alert("failed error"),h.fragment.ytCreated=!0,h.fragment.isCreated=!1,n.cancel(i))},2500)})}function v(){var t={user_id:h.user.id};r.resources(t).then(function(t){h.cloud_video_params=t})}var h=this;h.video=[],h.user=t.user,h.fragment=[],h.status_fragment=[],h.global_status=[],h.test=h.user.id,h.login=a,h.logout=i,h.cloud_id=[],h.interval_status_job=[],h.interval_status_fragment=[],h.interval_cloud_video=[],h.cloud_video_params=[],h.cloud_video=[],h.upload_job_id=[],h.download_job_id=[],h.upload_yt_job_id=[],h.status=[],h.new_url=[],h.getVideoInfo=o,h.getVideoEmbedUrl=d,h.downloadVideo=l,h.uploadVideo=g,h.deleteVideoFile=_,h.uploadVideoOnYouTube=m,h.statusJob=s,h.statusFragment=c,h.globalStatusFragment=f,h.resources=v,h.getNewUrl=u,h.createFragment=p}angular.module("app.index").controller("IndexController",t),t.$inject=["$auth","$sce","$interval","api"]}(),function(){"use strict";function t(t){t.configure({apiUrl:"/api"})}angular.module("app").config(t),t.$inject=["$authProvider"]}(),function(){"use strict";function t(t){function e(e){return t.post("/api/video/info",e).then(function(t){return t.data})}function n(e){return t.post("/api/status_job",e).then(function(t){return t.data})}function r(e){return t.post("/api/fragments/status",e).then(function(t){return t.data})}function a(e){return t.post("/api/fragments/global/status",e).then(function(t){return t.data})}function i(e){return t.post("/api/fragments/resources",e).then(function(t){return t.data})}function o(e){return t.post("/api/video/embed_url",e).then(function(t){return t.data})}function u(e){return t.post("/api/video/download",e).then(function(t){return t.data})}function d(e){return t.post("/api/fragments/uploaded_on_cloudinary",e).then(function(t){return t.data})}function s(e){return t.post("/api/fragments/delete_video_file",e).then(function(t){return t.data})}function c(e){return t.post("/api/fragments/uploaded_video_on_youtube",e).then(function(t){return t.data})}function f(e){return t.post("/api/fragments",e).then(function(t){return t.data})}function l(){return t.get("/api/fragments").then(function(t){return t.data})}function g(e){return t.get("/api/new_url",e).then(function(t){return t.data})}return{getVideoInfo:e,getVideoEmbedUrl:o,downloadVideo:u,uploadVideo:d,deleteVideoFile:s,uploadVideoOnYouTube:c,statusJob:n,statusFragment:r,globalStatusFragment:a,resources:i,getNewUrl:g,getFragment:l,createFragment:f}}angular.module("app.index").factory("api",t),t.$inject=["$http"]}(),function(){"use strict";function t(){function t(t,e,n){$(e).embed()}return{restrict:"A",link:t}}angular.module("app.index").directive("appEmbed",t)}();