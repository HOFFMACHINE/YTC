!function(){"use strict";angular.module("app",["app.index"])}(),function(){"use strict";angular.module("app.index",["ng-token-auth"])}(),function(){"use strict";function t(t,n,e,o){function a(){t.authenticate("google").then(function(t){})}function i(){t.signOut().then(function(t){})}function u(){var t={url:v.fragment.url};v.video.isPreviewing=!0,o.getVideoInfo(t).then(function(t){v.fragment.video_id=t.video_id,v.fragment.start=1,v.fragment.end=t.end,v.fragment.title=t.title,v.fragment.description=t.description})}function r(){var t={url:v.fragment.url,start:v.fragment.start,end:v.fragment.end};v.video.isPreviewing=!0,o.getVideoEmbedUrl(t).then(function(t){v.fragment.embed_url=n.trustAsResourceUrl(t)})}function d(){var t={id:v.fragment.id};o.statusJob(t).then(function(t){v.status=t})}function c(){o.statusFragment().then(function(t){v.status_fragment=t})}function f(){o.globalStatusFragment().then(function(t){v.global_status=t})}function s(){var t={id:v.fragment.id};o.downloadVideo(t).then(function(t){v.download_job_id=t})}function l(){o.uploadVideo().then(function(t){v.upload_job_id=t})}function g(){o.deleteVideoFile().then(function(t){})}function m(){o.uploadVideoOnYouTube().then(function(t){v.upload_yt_job_id=t})}function p(){var t={url:v.fragment.url,start:v.fragment.start,end:v.fragment.end,title:v.fragment.title,description:v.fragment.description,video_id:v.fragment.video_id};o.createFragment(t).then(function(t){v.fragment=t,v.fragment.isCreated=!0,v.cloud_id=v.fragment.video_id,s(),v.status="new";var n=e(function(){d(),"complete"===v.status&&e.cancel(n)},500),o=e(function(){c(),"downloaded"===v.status_fragment&&(l(),e.cancel(o)),"video_on_cloud"===v.status_fragment&&(e.cancel(o),v.fragment.isCreated=!1,v.fragment.cloudCreated=!0)},500),a=e(function(){_(),v.cloud_video_params.public_id===v.fragment.video_id&&(g(),m(),e.cancel(a),v.fragment.isCreated=!1,v.fragment.cloudCreated=!0)},2500)})}function _(){o.resources().then(function(t){v.cloud_video_params=t})}var v=this;v.video=[],v.user=t.user,v.fragment=[],v.status_fragment=[],v.global_status=[],v.login=a,v.logout=i,v.cloud_id=[],v.interval_status_job=[],v.interval_status_fragment=[],v.interval_cloud_video=[],v.cloud_video_params=[],v.cloud_video=[],v.upload_job_id=[],v.download_job_id=[],v.upload_yt_job_id=[],v.status=[],v.getVideoInfo=u,v.getVideoEmbedUrl=r,v.downloadVideo=s,v.uploadVideo=l,v.deleteVideoFile=g,v.uploadVideoOnYouTube=m,v.statusJob=d,v.statusFragment=c,v.globalStatusFragment=f,v.resources=_,v.createFragment=p}angular.module("app.index").controller("IndexController",t),t.$inject=["$auth","$sce","$interval","api"]}(),function(){"use strict";function t(t){t.configure({apiUrl:"/api"})}angular.module("app").config(t),t.$inject=["$authProvider"]}(),function(){"use strict";function t(t){function n(n){return t.post("/api/video/info",n).then(function(t){return t.data})}function e(n){return t.post("/api/status_job",n).then(function(t){return t.data})}function o(){return t.post("/api/fragments/status").then(function(t){return t.data})}function a(){return t.post("/api/fragments/global/status").then(function(t){return t.data})}function i(){return t.post("/api/fragments/resources").then(function(t){return t.data})}function u(n){return t.post("/api/video/embed_url",n).then(function(t){return t.data})}function r(n){return t.post("/api/video/download",n).then(function(t){return t.data})}function d(){return t.post("/api/fragments/uploaded_on_cloudinary").then(function(t){return t.data})}function c(){return t.post("/api/fragments/delete_video_file").then(function(t){return t.data})}function f(){return t.post("/api/fragments/uploaded_video_on_youtube").then(function(t){return t.data})}function s(n){return t.post("/api/fragments",n).then(function(t){return t.data})}function l(){return t.get("/api/fragments").then(function(t){return t.data})}return{getVideoInfo:n,getVideoEmbedUrl:u,downloadVideo:r,uploadVideo:d,deleteVideoFile:c,uploadVideoOnYouTube:f,statusJob:e,statusFragment:o,globalStatusFragment:a,resources:i,getFragment:l,createFragment:s}}angular.module("app.index").factory("api",t),t.$inject=["$http"]}(),function(){"use strict";function t(){function t(t,n,e){$(n).embed()}return{restrict:"A",link:t}}angular.module("app.index").directive("appEmbed",t)}();