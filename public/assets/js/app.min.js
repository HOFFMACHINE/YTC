!function(){"use strict";angular.module("app",["app.index"])}(),function(){"use strict";angular.module("app.index",["ng-token-auth"])}(),function(){"use strict";function t(t,e,n,a,o){function r(){e.authenticate("google")}function u(){e.signOut()}function i(){var t={url:v.fragment.url};v.video.isPreviewing=!0,o.getVideoInfo(t).then(function(t){v.fragment.video_id=t.video_id,v.fragment.start=1,v.fragment.end=t.end,v.fragment.title=t.title,v.fragment.description=t.description})}function d(){var t={url:v.fragment.url,start:v.fragment.start,end:v.fragment.end};v.video.isPreviewing=!0,o.getVideoEmbedUrl(t).then(function(t){v.fragment.embed_url=n.trustAsResourceUrl(t)})}function f(){t.debug("ACTION - download from youtube"),o.downloadVideo(v.fragment.id).then(function(t){v.fragment.status=t.status});var e=a(function(){"downloaded"==v.fragment.status&&g(),"video_on_cloud"==v.fragment.status&&c(),"downloaded"!=v.fragment.status&&"video_on_cloud"!=v.fragment.status||a.cancel(e),m()},5e3)}function g(){t.debug("ACTION - upload on cloudnary"),o.uploadVideo(v.fragment.id).then(function(t){v.fragment.status=t.status});var e=a(function(){"upload_on_cloud"!=v.fragment.status&&"video_on_cloud"!=v.fragment.status||(c(),v.fragment.cloudCreated=!0,a.cancel(e)),m()},5e3)}function c(){t.debug("ACTION - upload on youtube"),o.uploadVideoOnYouTube(v.fragment.id).then(function(){l()});var e=a(function(){"uploaded_on_yt"==v.fragment.status&&(p(),v.fragment.ytCreated=!0,v.fragment.isCreated=!1,a.cancel(e)),m()},5e3)}function l(){t.debug("ACTION - delete file"),o.deleteVideoFile(v.fragment.id).then(function(){})}function s(){var t={user_id:v.user.id,url:v.fragment.url,start:v.fragment.start,end:v.fragment.end,title:v.fragment.title,description:v.fragment.description,video_id:v.fragment.video_id};o.createFragment(t).then(function(t){v.fragment=t,v.fragment.isCreated=!0,f()})}function m(){o.getFragmentStatus(v.fragment.id).then(function(e){t.debug("STATUS - "+e.status),v.fragment.status=e.status})}function p(){var t={id:v.fragment.id};o.getNewUrl(t).then(function(t){v.new_url=t})}var v=this;v.video=[],v.user=e.user,v.fragment=[],v.login=r,v.logout=u,v.getVideoInfo=i,v.getVideoEmbedUrl=d,v.downloadVideo=f,v.uploadVideo=g,v.deleteVideoFile=l,v.uploadVideoOnYouTube=c,v.getNewUrl=p,v.createFragment=s,v.getFragmentStatus=m}angular.module("app.index").controller("IndexController",t),t.$inject=["$log","$auth","$sce","$interval","api"]}(),function(){"use strict";function t(t){t.configure({apiUrl:"/api"})}angular.module("app").config(t),t.$inject=["$authProvider"]}(),function(){"use strict";function t(t){function e(e){return t.post("/api/video/info",e).then(function(t){return t.data})}function n(e){return t.post("/api/video/embed_url",e).then(function(t){return t.data})}function a(e){return t.get("/api/fragments/"+e+"/download").then(function(t){return t.data})}function o(e){return t.get("/api/fragments/"+e+"/uploaded_on_cloudinary").then(function(t){return t.data})}function r(e){return t.get("/api/fragments/"+e+"/delete_video_file").then(function(t){return t.data})}function u(e){return t.get("/api/fragments/"+e+"/upload_video_on_youtube").then(function(t){return t.data})}function i(e){return t.post("/api/fragments",e).then(function(t){return t.data})}function d(e){return t.get("/api/fragments/"+e+"/status").then(function(t){return t.data})}function f(e){return t.post("/api/new_url",e).then(function(t){return t.data})}return{getVideoInfo:e,getVideoEmbedUrl:n,downloadVideo:a,uploadVideo:o,deleteVideoFile:r,uploadVideoOnYouTube:u,createFragment:i,getFragmentStatus:d,getNewUrl:f}}angular.module("app.index").factory("api",t),t.$inject=["$http"]}();