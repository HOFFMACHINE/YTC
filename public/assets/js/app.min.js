!function(){"use strict";angular.module("app",["app.index"])}(),function(){"use strict";angular.module("app.index",["ng-token-auth","720kb.socialshare","ui-rangeSlider"])}(),function(){"use strict";function t(t,e,n,i){function r(){t.authenticate("google")}function a(){t.signOut()}function o(){var t={user_id:_.user.id};i.userProfile(t).then(function(t){_.user_profile=t,_.counter=_.user_profile.profile.length})}function u(){var t={url:_.video.url};i.createVideo(t).then(function(t){_.video=t,_.video.isPreviewing=!0,_.fragment.start_from=0,_.fragment.end_from=_.video.duration,_.fragment.title=_.video.title,_.fragment.description=_.video.description,s()})}function d(){var t={id:_.video.id};i.downloadVideo(t).then(function(t){_.video.status=t.status});var e=n(function(){"downloaded"!=_.video.status&&"uploaded"!=_.video.status||("downloaded"==_.video.status&&f(),"uploaded"==_.video.status&&m(),n.cancel(e)),c()},5e3)}function f(){var t={id:_.video.id};i.uploadVideo(t).then(function(t){_.video.status=t.status});var e=n(function(){"uploaded"==_.video.status&&(m(),n.cancel(e)),c()},5e3)}function s(){var t={id:_.video.id,start_from:_.fragment.start_from,end_from:_.fragment.end_from};i.getVideoEmbedUrl(t).then(function(t){_.video.embed_url=e.trustAsResourceUrl(t.embed_url)})}function c(){var t={id:_.video.id};i.getVideoStatus(t).then(function(t){_.video.status=t.status})}function g(t){i.deleteFragment(t).then(function(){})}function l(){var t={user_id:_.user.id,video_id:_.video.id,start_from:_.fragment.start_from,end_from:_.fragment.end_from,title:_.fragment.title,description:_.fragment.description};i.createFragment(t).then(function(t){_.fragment=t,_.fragment.isCreating=!0,d()})}function m(){var t={id:_.fragment.id};i.uploadFragment(t).then(function(){});var e=n(function(){"uploaded"==_.fragment.status&&(v(),_.fragment.isCreating=!1,_.fragment.isCreated=!0,n.cancel(e)),p()},5e3)}function p(){var t={id:_.fragment.id};i.getFragmentStatus(t).then(function(t){_.fragment.status=t.status})}function v(){var t={id:_.fragment.id};i.getFragmentUrl(t).then(function(t){_.fragment.url=t.url})}function h(){location.reload()}var _=this;_.video=[],_.user=t.user,_.fragment=[],_.user_profile=[],_.login=r,_.logout=a,_.userProfile=o,_.createVideo=u,_.downloadVideo=d,_.uploadVideo=f,_.getVideoEmbedUrl=s,_.getVideoStatus=c,_.createFragment=l,_.deleteFragment=g,_.uploadFragment=m,_.getFragmentStatus=p,_.getFragmentUrl=v,_.reloadPage=h}angular.module("app.index").controller("IndexController",t),t.$inject=["$auth","$sce","$interval","api"]}(),function(){"use strict";function t(t){t.configure({apiUrl:"/api"})}angular.module("app").config(t),t.$inject=["$authProvider"]}(),function(){"use strict";function t(t){function e(e){return t.post("/api/users/profile",e).then(function(t){return t.data})}function n(e){return t.post("/api/videos",e).then(function(t){return t.data})}function i(e){return t.get("/api/videos/"+e.id+"/download").then(function(t){return t.data})}function r(e){return t.get("/api/videos/"+e.id+"/upload").then(function(t){return t.data})}function a(e){return t.post("/api/videos/"+e.id+"/embed_url",e).then(function(t){return t.data})}function o(e){return t.get("/api/videos/"+e.id+"/status").then(function(t){return t.data})}function u(e){return t.post("/api/fragments",e).then(function(t){return t.data})}function d(e){return t["delete"]("/api/fragments/"+e.id).then(function(t){return t.data})}function f(e){return t.get("/api/fragments/"+e.id+"/upload").then(function(t){return t.data})}function s(e){return t.get("/api/fragments/"+e.id+"/url").then(function(t){return t.data})}function c(e){return t.get("/api/fragments/"+e.id+"/status").then(function(t){return t.data})}return{userProfile:e,createVideo:n,downloadVideo:i,uploadVideo:r,getVideoEmbedUrl:a,getVideoStatus:o,createFragment:u,deleteFragment:d,uploadFragment:f,getFragmentUrl:s,getFragmentStatus:c}}angular.module("app.index").factory("api",t),t.$inject=["$http"]}();