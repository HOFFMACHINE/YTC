!function(){"use strict";angular.module("app",["app.index"])}(),function(){"use strict";angular.module("app.index",["ng-token-auth","ui-rangeSlider"])}(),function(){"use strict";function t(t,n,e,a){function r(){t.authenticate("google")}function i(){t.signOut()}function o(){var t={url:p.fragment.url};p.video.preview=!0,a.getVideoInfo(t).then(function(t){p.video.end=t.end,p.fragment.video_id=t.video_id,p.fragment.start=1,p.fragment.end=t.end,p.fragment.title=t.title,p.fragment.description=t.description})}function u(){var t={url:p.fragment.url,start:p.fragment.start,end:p.fragment.end};p.video.preview=!0,a.getVideoEmbedUrl(t).then(function(t){p.fragment.embed_url=n.trustAsResourceUrl(t.embed_url)})}function d(){a.downloadVideo(p.fragment.id).then(function(t){p.fragment.status=t.status});var t=e(function(){"downloaded"==p.fragment.status&&f(),"video_on_cloud"==p.fragment.status&&c(),"downloaded"!=p.fragment.status&&"video_on_cloud"!=p.fragment.status||e.cancel(t),s()},5e3)}function f(){a.uploadVideo(p.fragment.id).then(function(t){p.fragment.status=t.status});var t=e(function(){"upload_on_cloud"!=p.fragment.status&&"video_on_cloud"!=p.fragment.status||(c(),e.cancel(t)),s()},5e3)}function c(){a.uploadVideoOnYouTube(p.fragment.id).then(function(){g()});var t=e(function(){"uploaded_on_yt"==p.fragment.status&&(m(),p.fragment.isCreating=!1,p.fragment.isCreated=!0,e.cancel(t)),s()},5e3)}function g(){a.deleteVideoFile(p.fragment.id).then(function(){})}function l(){var t={user_id:p.user.id,url:p.fragment.url,start:p.fragment.start,end:p.fragment.end,title:p.fragment.title,description:p.fragment.description,video_id:p.fragment.video_id};a.createFragment(t).then(function(t){p.fragment=t,p.fragment.isCreating=!0,d()})}function s(){a.getFragmentStatus(p.fragment.id).then(function(t){p.fragment.status=t.status})}function m(){var t={id:p.fragment.id};a.getNewUrl(t).then(function(t){p.new_url=t.url})}var p=this;p.video=[],p.user=t.user,p.fragment=[],p.login=r,p.logout=i,p.getVideoInfo=o,p.getVideoEmbedUrl=u,p.downloadVideo=d,p.uploadVideo=f,p.deleteVideoFile=g,p.uploadVideoOnYouTube=c,p.getNewUrl=m,p.createFragment=l,p.getFragmentStatus=s}angular.module("app.index").controller("IndexController",t),t.$inject=["$auth","$sce","$interval","api"]}(),function(){"use strict";function t(t){t.configure({apiUrl:"/api"})}angular.module("app").config(t),t.$inject=["$authProvider"]}(),function(){"use strict";function t(t){function n(n){return t.post("/api/video/info",n).then(function(t){return t.data})}function e(n){return t.post("/api/video/embed_url",n).then(function(t){return t.data})}function a(n){return t.get("/api/fragments/"+n+"/download").then(function(t){return t.data})}function r(n){return t.get("/api/fragments/"+n+"/uploaded_on_cloudinary").then(function(t){return t.data})}function i(n){return t.get("/api/fragments/"+n+"/delete_video_file").then(function(t){return t.data})}function o(n){return t.get("/api/fragments/"+n+"/upload_video_on_youtube").then(function(t){return t.data})}function u(n){return t.post("/api/fragments",n).then(function(t){return t.data})}function d(n){return t.get("/api/fragments/"+n+"/status").then(function(t){return t.data})}function f(n){return t.post("/api/new_url",n).then(function(t){return t.data})}return{getVideoInfo:n,getVideoEmbedUrl:e,downloadVideo:a,uploadVideo:r,deleteVideoFile:i,uploadVideoOnYouTube:o,createFragment:u,getFragmentStatus:d,getNewUrl:f}}angular.module("app.index").factory("api",t),t.$inject=["$http"]}();