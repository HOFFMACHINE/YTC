{"version":3,"sources":["app.module.js","index.module.js","index.controller.js","auth.config.js","api.service.js","app-embed.directive.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.min.js","sourcesContent":["(function ()\n{\n    'use strict';\n\n    angular.module('app', ['app.index']);\n})();\n","(function ()\n{\n    'use strict';\n\n    angular.module('app.index', ['ng-token-auth']);\n})();\n","(function ()\n{\n    'use strict';\n\n    angular.module('app.index')\n           .controller('IndexController', IndexController);\n\n    IndexController.$inject = ['api', '$auth', '$sce'];\n\n    function IndexController(api, $auth, $sce)\n    {\n        var vm = this;\n\n        vm.user = [];\n        vm.fragment = [];\n\n        vm.auth = auth;\n        vm.preview = preview;\n\n        // getUser();\n\n        function auth()\n        {\n            $auth.authenticate('google').then(function (response)\n            {\n                // console.log(response);\n            })\n            .catch(function (response)\n            {\n                //\n            });\n        }\n\n        /*\n         |--------------------------------------------------------------------------------------------------------------\n         | Fragments\n         |--------------------------------------------------------------------------------------------------------------\n         */\n\n        function preview()\n        {\n            var data = {\n                url: vm.fragment.url\n            };\n\n            api.getEmbedUrl(data).then(function (data)\n            {\n                vm.fragment.embed_url = $sce.trustAsResourceUrl(data);\n            });\n        }\n\n        /*\n         |--------------------------------------------------------------------------------------------------------------\n         | Users\n         |--------------------------------------------------------------------------------------------------------------\n         */\n\n        function getUser()\n        {\n            api.getUser().then(function (data)\n            {\n                vm.user = data;\n            });\n        }\n    }\n})();\n","(function ()\n{\n    'use strict';\n\n    angular.module('app')\n           .config(authConfig)\n\n    authConfig.$inject = ['$authProvider'];\n\n    function authConfig($authProvider)\n    {\n        $authProvider.configure({\n            apiUrl:                  '/api',\n            // tokenValidationPath:     '/auth/validate_token',\n            // signOutUrl:              '/auth/sign_out',\n            // emailRegistrationPath:   '/auth',\n            // accountUpdatePath:       '/auth',\n            // accountDeletePath:       '/auth',\n            // confirmationSuccessUrl:  window.location.href,\n            // passwordResetPath:       '/auth/password',\n            // passwordUpdatePath:      '/auth/password',\n            // passwordResetSuccessUrl: window.location.href,\n            // emailSignInPath:         '/auth/sign_in',\n            // storage:                 'cookies',\n            // forceValidateToken:      false,\n            // validateOnPageLoad:      true,\n            // proxyIf:                 function() { return false; },\n            // proxyUrl:                '/proxy',\n            // omniauthWindowType:      'sameWindow',\n            // // authProviderPaths: {\n            // //     github:   '/auth/github',\n            // //     facebook: '/auth/facebook',\n            // //     google:   '/auth/google-oauth2'\n            // // },\n            // tokenFormat: {\n            //     \"access-token\": \"{{ token }}\",\n            //     \"token-type\":   \"Bearer\",\n            //     \"client\":       \"{{ clientId }}\",\n            //     \"expiry\":       \"{{ expiry }}\",\n            //     \"uid\":          \"{{ uid }}\"\n            // },\n            // cookieOps: {\n            //     path: \"/\",\n            //     expires: 9999,\n            //     expirationUnit: 'days',\n            //     secure: false,\n            //     domain: 'domain.com'\n            // },\n            // createPopup: function(url) {\n            //     return window.open(url, '_blank', 'closebuttoncaption=Cancel');\n            // },\n            // parseExpiry: function(headers) {\n            //     // convert from UTC ruby (seconds) to UTC js (milliseconds)\n            //     return (parseInt(headers['expiry']) * 1000) || null;\n            // },\n            // handleLoginResponse: function(response) {\n            //     return response.data;\n            // },\n            // handleAccountUpdateResponse: function(response) {\n            //     return response.data;\n            // },\n            // handleTokenValidationResponse: function(response) {\n            //     return response.data;\n            // }\n        });\n    }\n})();\n","(function ()\n{\n    'use strict';\n\n    angular.module('app.index')\n           .factory('api', api);\n\n    api.$inject = ['$http'];\n\n    function api($http)\n    {\n        return {\n            \"getEmbedUrl\": getEmbedUrl,\n            \"getUser\": getUser\n        };\n\n        function getEmbedUrl(data)\n        {\n            return $http.post('/api/fragments/embed_url', data).then(function (response)\n            {\n                return response.data;\n            });\n        }\n\n        function getUser()\n        {\n            return $http.get('/api/users/me').then(function (response)\n            {\n                return response.data;\n            });\n        }\n    }\n})();\n","(function()\n{\n    'use strict';\n\n    angular.module('app.index')\n           .directive('appEmbed', appEmbed);\n\n    function appEmbed()\n    {\n        return {\n            restrict: 'A',\n            link: link\n        };\n\n        function link(scope, element, attributes)\n        {\n            $(element).embed();\n        }\n    }\n})();\n"]}